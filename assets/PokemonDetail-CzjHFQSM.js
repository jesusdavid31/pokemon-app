import{r as l,j as e,u as y,a as k}from"./index-BC7WZjIO.js";import{S as j,A as v}from"./sweetalert2.esm.all-x53SFRIU.js";const N=({label:n,value:s,color:o="#66ccff"})=>{const[i,c]=l.useState("0%");return l.useEffect(()=>{const t=setTimeout(()=>{c(`${s}%`)},100);return()=>clearTimeout(t)},[s]),e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"stat-label",children:[e.jsx("strong",{children:n.toUpperCase()}),e.jsx("span",{children:s})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:i,backgroundColor:o}})})]})},u={grass:"#66cc66",fire:"#ff9933",water:"#66ccff",bug:"#99cc33",poison:"#8a2be2",flying:"#99ccff",electric:"#ffcc33",psychic:"#ff66cc",rock:"#b8a038",ground:"#e0c068",fairy:"#ee99ac",ice:"#66ffff",dragon:"#7038f8",dark:"#705848",ghost:"#705898",fighting:"#c03028",steel:"#b8b8d0",normal:"#a8a878"},P=()=>{const{name:n}=y(),s=k(),[o,i]=l.useState(!0),[c,t]=l.useState(null);return{loading:o,pokemon:c,getPokemon:async()=>{var g,f,x;try{i(!0);const m=await fetch(`https://pokeapi.co/api/v2/pokemon/${n}`);if(!m.ok){j.fire("Error","Error fetching Pokémon details","error"),i(!1),t(null),s("/");return}const a=await m.json(),d=a.types.map(r=>r.type.name),b=d[0];let p=u[b]||"#ccc";p==="#a8a878"&&d.length>1&&(p=u[d[1]]),t({id:`#${a.id.toString().padStart(3,"0")}`,name:a.name.charAt(0).toUpperCase()+a.name.slice(1),img:(x=(f=(g=a.sprites)==null?void 0:g.other)==null?void 0:f["official-artwork"])==null?void 0:x.front_default,weight:`${(a.weight/10).toFixed(1)} kg`,height:`${(a.height/10).toFixed(1)} m`,types:d,color:p,stats:a.stats.map(r=>({name:r.stat.name,value:r.base_stat})),abilities:a.abilities.map(r=>r.ability.name)}),i(!1)}catch(m){console.error("Error fetching Pokémon details:",m),j.fire("Error","Error fetching Pokémon details","error")}}}},w=()=>{const{loading:n,pokemon:s,getPokemon:o}=P(),i=k(),c=t=>t.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ");return l.useEffect(()=>{o()},[]),e.jsx(e.Fragment,{children:n?e.jsx("div",{className:"pokemon-detail",children:e.jsx("div",{className:"spinner",children:e.jsx("div",{className:"spinnerin"})})}):e.jsx(e.Fragment,{children:s&&e.jsxs("div",{className:"pokemon-detail",style:{background:`linear-gradient(145deg, ${s.color},rgb(54, 54, 54))`},children:[e.jsx("button",{className:"animated-button",onClick:()=>i(-1),children:e.jsx(v,{text:"Back",icon:e.jsx("path",{d:"M7.8284 11H20V13H7.8284L13.1924 18.364L11.7782 19.7782L4 12L11.7782 4.22183L13.1924 5.63604L7.8284 11Z"})})}),e.jsxs("div",{className:"card",children:[e.jsx("img",{src:s.img,alt:s.name,className:"pokemon-img"}),e.jsx("h1",{children:s.name}),e.jsxs("span",{className:"card-id",children:["ID: ",s.id]}),e.jsxs("p",{children:["Height: ",s.height]}),e.jsxs("p",{children:["Weight: ",s.weight]}),e.jsxs("p",{children:["Types: ",s.types.join(" / ")]}),e.jsxs("div",{className:"stats",children:[e.jsx("h2",{children:"Stats"}),s.stats.map(t=>e.jsx("div",{className:"stat-item",children:e.jsx(N,{label:t.name,value:t.value,color:s.color})},t.name))]}),e.jsxs("div",{className:"abilities",children:[e.jsx("h2",{children:"Abilities"}),e.jsx("ul",{children:s.abilities.map(t=>e.jsx("li",{children:c(t)},t))})]})]})]})})})};export{w as default};
